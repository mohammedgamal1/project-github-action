{"version":3,"file":"pages/dashboard/conditions.js","sources":["webpack:///./pages/dashboard/conditions.vue?be4d","webpack:///./pages/dashboard/conditions.vue?8052","webpack:///./pages/dashboard/conditions.vue?1644","webpack:///./pages/dashboard/conditions.vue","webpack:///conditions.vue","webpack:///./pages/dashboard/conditions.vue?9845","webpack:///./pages/dashboard/conditions.vue?a34f"],"sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/sass-resources-loader/lib/loader.js??ref--7-oneOf-1-4!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./conditions.vue?vue&type=style&index=0&id=2c938bf8&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesServer.js\").default\nmodule.exports.__inject__ = function (context) {\n  add(\"05eefcd9\", content, true, context)\n};","export * from \"-!../../node_modules/vue-style-loader/index.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/sass-resources-loader/lib/loader.js??ref--7-oneOf-1-4!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./conditions.vue?vue&type=style&index=0&id=2c938bf8&prod&lang=scss&scoped=true&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n___CSS_LOADER_EXPORT___.push([module.id, \"@import url(https://fonts.googleapis.com/css2?family=Mulish:wght@300;400;700&display=swap);\"]);\n___CSS_LOADER_EXPORT___.push([module.id, \"@import url(https://fonts.googleapis.com/css2?family=Almarai:wght@300;400;700&family=Mulish:wght@300;400;700&display=swap);\"]);\n___CSS_LOADER_EXPORT___.push([module.id, \"@import url(https://fonts.googleapis.com/css2?family=Montserrat:wght@500;700;900&display=swap);\"]);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".primary[data-v-2c938bf8]{color:#204ecf}.dark-blue[data-v-2c938bf8]{color:#0f256e !important}.gray[data-v-2c938bf8]{color:#262d3d}.light-gray[data-v-2c938bf8]{color:rgba(38,45,61,.64)}.lighter-gray[data-v-2c938bf8]{color:rgba(38,45,61,.32)}.black-light[data-v-2c938bf8]{color:#111}.btn.btn-outline-secondary[data-v-2c938bf8]{color:#333}label[data-v-2c938bf8]{text-transform:capitalize}.object-fit-cover[data-v-2c938bf8]{object-fit:cover}.object-fit-contain[data-v-2c938bf8]{object-fit:contain}.font-14[data-v-2c938bf8]{font-size:14px}.font-18[data-v-2c938bf8]{font-size:18px}.spacer-5[data-v-2c938bf8]{height:5px;width:100%;display:block}.spacer-10[data-v-2c938bf8]{height:10px;width:100%;display:block}.spacer-15[data-v-2c938bf8]{height:15px;width:100%;display:block}.spacer-20[data-v-2c938bf8]{height:20px;width:100%;display:block}.spacer-25[data-v-2c938bf8]{height:25px;width:100%;display:block}.spacer-30[data-v-2c938bf8]{height:30px;width:100%;display:block}.spacer-40[data-v-2c938bf8]{height:40px;width:100%;display:block}.spacer-50[data-v-2c938bf8]{height:50px;width:100%;display:block}.spacer-65[data-v-2c938bf8]{height:65px;width:100%;display:block}.spacer-100[data-v-2c938bf8]{height:100px;width:100%;display:block}.sb-wrapper[data-v-2c938bf8]{position:relative}.sb-wrapper .sb-button[data-v-2c938bf8]{font:inherit;background:transparent;position:static;border:none;padding:0}.sb-wrapper .sb-button::before .sb-wrapper .sb-button[data-v-2c938bf8]{cursor:pointer}.sb-wrapper .sb-button[data-v-2c938bf8]::before{content:\\\"\\\";display:block;position:absolute;top:0;left:0;width:100%;height:100%}.sb-wrapper .sb-button[data-v-2c938bf8]:focus{outline:1px solid}.m-end-2[data-v-2c938bf8]{margin-inline-end:10px}.conditions-list li[data-v-2c938bf8]:nth-child(2n){background-color:#d3d3d3}.conditions-list li .flex-1[data-v-2c938bf8]{margin:10px}\", \"\"]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___;\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('b-container',{staticClass:\"pb-3\"},[_c('form',{attrs:{\"id\":\"conditionsForm\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.saveConditions.apply(null, arguments)}}},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"categoryInput\"}},[_vm._v(\"Category\")]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedCategory),expression:\"selectedCategory\"}],attrs:{\"id\":\"categoryInput\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.selectedCategory=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.categories),function(category){return _c('option',{domProps:{\"value\":category}},[_vm._v(_vm._s(_vm.$i18n.locale === 'en'? category.name_en:category.name_ar))])}),0)]),_vm._v(\" \"),_c('h3',[_vm._v(\"Short-term units conditions\")]),_vm._v(\" \"),_c('ul',{staticClass:\"conditions-list\"},_vm._l((_vm.allConditions),function(condition,key){return _c('li',{directives:[{name:\"show\",rawName:\"v-show\",value:(condition.term === \"short\" && condition.category_name === _vm.selectedCategory.name_en),expression:\"condition.term === \\\"short\\\" && condition.category_name === selectedCategory.name_en\"}]},[_c('div',{staticClass:\"d-flex flex-row justify-content-between\"},[_c('div',{staticClass:\"flex-1\"},[_c('p',{staticClass:\"condition-title\"},[_vm._v(_vm._s(_vm.$i18n.locale === 'en'? condition.name_en:condition.name_ar))])]),_vm._v(\" \"),_c('div',{staticClass:\"flex-1 d-flex\"},[_c('b-form-checkbox',{attrs:{\"name\":\"check-button\",\"switch\":\"\"},model:{value:(_vm.allConditions[key].condition_decline),callback:function ($$v) {_vm.$set(_vm.allConditions[key], \"condition_decline\", $$v)},expression:\"allConditions[key].condition_decline\"}})],1)])])}),0),_vm._v(\" \"),_c('h3',[_vm._v(\"Long-term units conditions\")]),_vm._v(\" \"),_c('ul',{staticClass:\"conditions-list\"},_vm._l((_vm.allConditions),function(condition,key){return _c('li',{directives:[{name:\"show\",rawName:\"v-show\",value:(condition.term === \"long\" && condition.category_name === _vm.selectedCategory.name_en),expression:\"condition.term === \\\"long\\\" && condition.category_name === selectedCategory.name_en\"}]},[_c('div',{staticClass:\"d-flex flex-row justify-content-between\"},[_c('div',{staticClass:\"flex-1\"},[_c('p',{staticClass:\"condition-title\"},[_vm._v(_vm._s(_vm.$i18n.locale === 'en'? condition.name_en:condition.name_ar))])]),_vm._v(\" \"),_c('div',{staticClass:\"flex-1 d-flex\"},[_c('b-form-checkbox',{attrs:{\"name\":\"check-button\",\"switch\":\"\"},model:{value:(_vm.allConditions[key].condition_decline),callback:function ($$v) {_vm.$set(_vm.allConditions[key], \"condition_decline\", $$v)},expression:\"allConditions[key].condition_decline\"}})],1)])])}),0),_vm._v(\" \"),_c('b-button',{attrs:{\"type\":\"submit\",\"disabled\":_vm.processing}},[_vm._v(\"Save\")])],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <b-container class=\"pb-3\">\r\n      <form id='conditionsForm' v-on:submit.prevent='saveConditions'>\r\n        <div class='form-group'>\r\n          <label for='categoryInput'>Category</label>\r\n          <select id='categoryInput' v-model='selectedCategory'>\r\n            <option v-for='category in categories' v-bind:value='category'>{{$i18n.locale === 'en'? category.name_en:category.name_ar}}</option>\r\n          </select>\r\n        </div>\r\n        <h3>Short-term units conditions</h3>\r\n        <ul class='conditions-list'>\r\n          <li v-for='(condition,key) in allConditions' v-show='condition.term === \"short\" && condition.category_name === selectedCategory.name_en'>\r\n            <div class='d-flex flex-row justify-content-between'>\r\n              <div class='flex-1'>\r\n                <p class='condition-title'>{{$i18n.locale === 'en'? condition.name_en:condition.name_ar}}</p>\r\n              </div>\r\n              <div class='flex-1 d-flex'>\r\n                <b-form-checkbox v-model=\"allConditions[key].condition_decline\"\r\n                                 name=\"check-button\" switch>\r\n                </b-form-checkbox>\r\n              </div>\r\n            </div>\r\n\r\n          </li>\r\n        </ul>\r\n        <h3>Long-term units conditions</h3>\r\n        <ul class='conditions-list'>\r\n          <li v-for='(condition,key) in allConditions' v-show='condition.term === \"long\" && condition.category_name === selectedCategory.name_en'>\r\n            <div class='d-flex flex-row justify-content-between'>\r\n              <div class='flex-1'>\r\n                <p class='condition-title'>{{$i18n.locale === 'en'? condition.name_en:condition.name_ar}}</p>\r\n              </div>\r\n              <div class='flex-1 d-flex'>\r\n                <b-form-checkbox  v-model=\"allConditions[key].condition_decline\"\r\n                                  name=\"check-button\" switch>\r\n                </b-form-checkbox>\r\n              </div>\r\n            </div>\r\n\r\n          </li>\r\n        </ul>\r\n        <b-button type='submit' v-bind:disabled='processing'>Save</b-button>\r\n      </form>\r\n    </b-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  name: 'Conditions',\r\n  components: {\r\n  },\r\n  watchQuery: true,\r\n  data() {\r\n    return {\r\n      selectedCategory: '',\r\n      categories: [],\r\n      allConditions:[],\r\n      processing: true,\r\n      myConditions: [],\r\n      conditionsToBeSaved: []\r\n    }\r\n  },\r\n  filters: {\r\n\r\n  },\r\n  mounted() {\r\n    this.getCategories();\r\n  },\r\n  watch: {\r\n    selectedCategory: {\r\n      handler(value) {\r\n        if (value) {\r\n        }\r\n      },\r\n      immediate: true,\r\n    },\r\n\r\n    allConditions: {\r\n      handler(value) {\r\n        if (value.length > 0) {\r\n        }\r\n      },\r\n      immediate: true,\r\n      deep: true\r\n    },\r\n  },\r\n  methods: {\r\n    getCategories(){\r\n      var self = this;\r\n      this.$axios\r\n        .$get('/user/condition-categories')\r\n        .then((res) => {\r\n          self.categories = res.Data.categories;\r\n          self.selectedCategory = self.categories[0];\r\n\r\n          this.getMyConditions();\r\n        });\r\n    },\r\n\r\n    getConditions(){\r\n      var self = this;\r\n      this.$axios\r\n        .$get('/user/conditions')\r\n        .then((res) => {\r\n          if (res.Data.conditions.length > 0){\r\n            if (self.myConditions !== []){\r\n              self.allConditions = res.Data.conditions;\r\n              self.allConditions.forEach((condition, index) => {\r\n                var currentCondition = self.myConditions.find(function(myCondition) {\r\n                  return myCondition.id === condition.id;\r\n                });\r\n                if (currentCondition){\r\n                  self.allConditions[index].condition_decline = currentCondition.condition_decline === 0 || currentCondition.condition_decline === false? false:true;\r\n                }\r\n              });\r\n            }\r\n            self.processing = false;\r\n          }\r\n\r\n        });\r\n    },\r\n\r\n    getMyConditions(){\r\n      var self = this;\r\n      this.$axios\r\n        .$get('/user/landlord-conditions')\r\n        .then((res) => {\r\n          self.myConditions = res.Data.conditions;\r\n          this.getConditions();\r\n        }).catch((error)=>{\r\n          this.getConditions();\r\n      });\r\n    },\r\n    saveConditions(){\r\n      var self = this;\r\n\r\n      this.conditionsToBeSaved = {\r\n        conditions: this.allConditions.map((condition, index) => {\r\n          return condition.condition_decline !== undefined? {\r\n            condition_id: condition.id,\r\n            condition_decline: condition.condition_decline === 0 || condition.condition_decline === false? false:true\r\n          }: {\r\n            condition_id: condition.id,\r\n            condition_decline: 0\r\n          };\r\n        })\r\n      }\r\n      this.$axios\r\n        .$post('/user/landlord-conditions',self.conditionsToBeSaved)\r\n        .then((res) => {\r\n          this.$bvToast.toast(`Conditions saved successfully`, {\r\n            title: 'Congrats!',\r\n            autoHideDelay: 3000,\r\n            appendToast: false\r\n          })\r\n        });\r\n    }\r\n  },\r\n\r\n  head() {\r\n    return {\r\n      title: `Conditions`,\r\n    }\r\n  },\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.conditions-list{\r\n  li{\r\n    &:nth-child(2n){\r\n      background-color: lightgray;\r\n    }\r\n    .flex-1{\r\n      margin: 10px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./conditions.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./conditions.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./conditions.vue?vue&type=template&id=2c938bf8&scoped=true&\"\nimport script from \"./conditions.vue?vue&type=script&lang=js&\"\nexport * from \"./conditions.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./conditions.vue?vue&type=style&index=0&id=2c938bf8&prod&lang=scss&scoped=true&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"2c938bf8\",\n  \"c1b8c5bc\"\n  \n)\n\nexport default component.exports"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACXA;AAAA;AAAA;AAAA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACTA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;;;;ACgDA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;;ACvKA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}