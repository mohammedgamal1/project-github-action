(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{1032:function(t,e,r){var content=r(1035);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(39).default)("16192d46",content,!0,{sourceMap:!1})},1034:function(t,e,r){"use strict";r(1032)},1035:function(t,e,r){var o=r(38)(!1);o.push([t.i,"\n.progress-circle-container[data-v-724294ea] {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n  width: 60px;\r\n  height: 60px;\r\n  border-radius: 5px;\r\n  margin: auto;\r\n  margin-top: 10px;\n}\n.progress-circle-container .percent[data-v-724294ea] {\r\n  position: relative;\n}\n.progress-circle-container svg[data-v-724294ea] {\r\n  position: relative;\r\n  width: 60px;\r\n  height: 60px;\r\n  transform: rotate(-90deg);\n}\n.progress-circle-container svg circle[data-v-724294ea] {\r\n  width: 100%;\r\n  height: 100%;\r\n  fill: none;\r\n  stroke: rgba(0, 120, 255, 0.1);\r\n  stroke-width: 5;\r\n  stroke-linecap: round;\n}\n.progress-circle-container svg circle[data-v-724294ea]:last-of-type {\r\n  stroke-dasharray:125px;\r\n  stroke-dashoffset: calc(125px - (125px * var(--percent)) / 100);\r\n  stroke: #3498db;\n}\n.progress-circle-container .number[data-v-724294ea] {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\n}\n.progress-circle-container .number h3[data-v-724294ea] {\r\n  font-weight: 200;\r\n  font-size: .6rem;\r\n  color: #0078FF;\n}\n.progress-circle-container .number h3 span[data-v-724294ea] {\r\n  font-size: 2rem;\n}\n.progress-circle-container .title h2[data-v-724294ea] {\r\n  margin: 25px 0 0;\n}\n.progress-circle-container:nth-child(1) svg circle[data-v-724294ea]:last-of-type {\r\n  stroke: #0078FF;\n}\r\n",""]),t.exports=o},1036:function(t,e,r){"use strict";r(131);var o={name:"ProgressCircle",props:{currentStep:{type:Number,default:function(){return 0}},totalSteps:{type:Number,default:function(){return 1}}},computed:{dir:function(){return this.$store.getters["CoreModule/isRTL"]?"rtl":"ltr"}}},n=(r(1034),r(25)),component=Object(n.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"progress-circle-container"},[e("div",{staticClass:"percent"},[e("svg",[e("circle",{attrs:{cx:"30",cy:"30",r:"25"}}),t._v(" "),e("circle",{style:"--percent: ".concat(t.currentStep/t.totalSteps*100),attrs:{cx:"30",cy:"30",r:"25"}})]),t._v(" "),e("div",{staticClass:"number"},[e("h3",[t._v(t._s(t.currentStep)+"  "+t._s("rtl"===t.dir?"من":"of")+" "+t._s(t.totalSteps))])])])])}),[],!1,null,"724294ea",null);e.a=component.exports},1250:function(t,e,r){var content=r(1547);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(39).default)("68e77536",content,!0,{sourceMap:!1})},1546:function(t,e,r){"use strict";r(1250)},1547:function(t,e,r){var o=r(38)(!1);o.push([t.i,"@import url(https://fonts.googleapis.com/css2?family=Mulish:wght@300;400;700&display=swap);"]),o.push([t.i,"@import url(https://fonts.googleapis.com/css2?family=Almarai:wght@300;400;700&family=Mulish:wght@300;400;700&display=swap);"]),o.push([t.i,"@import url(https://fonts.googleapis.com/css2?family=Montserrat:wght@500;700;900&display=swap);"]),o.push([t.i,'.primary[data-v-64cd80ec]{color:#204ecf}.dark-blue[data-v-64cd80ec]{color:#0f256e !important}.gray[data-v-64cd80ec]{color:#262d3d}.light-gray[data-v-64cd80ec]{color:rgba(38,45,61,.64)}.lighter-gray[data-v-64cd80ec]{color:rgba(38,45,61,.32)}.black-light[data-v-64cd80ec]{color:#111}.btn.btn-outline-secondary[data-v-64cd80ec]{color:#333}label[data-v-64cd80ec]{text-transform:capitalize}.object-fit-cover[data-v-64cd80ec]{object-fit:cover}.object-fit-contain[data-v-64cd80ec]{object-fit:contain}.font-14[data-v-64cd80ec]{font-size:14px}.font-18[data-v-64cd80ec]{font-size:18px}.spacer-5[data-v-64cd80ec]{height:5px;width:100%;display:block}.spacer-10[data-v-64cd80ec]{height:10px;width:100%;display:block}.spacer-15[data-v-64cd80ec]{height:15px;width:100%;display:block}.spacer-20[data-v-64cd80ec]{height:20px;width:100%;display:block}.spacer-25[data-v-64cd80ec]{height:25px;width:100%;display:block}.spacer-30[data-v-64cd80ec]{height:30px;width:100%;display:block}.spacer-40[data-v-64cd80ec]{height:40px;width:100%;display:block}.spacer-50[data-v-64cd80ec]{height:50px;width:100%;display:block}.spacer-65[data-v-64cd80ec]{height:65px;width:100%;display:block}.spacer-100[data-v-64cd80ec]{height:100px;width:100%;display:block}.sb-wrapper[data-v-64cd80ec]{position:relative}.sb-wrapper .sb-button[data-v-64cd80ec]{font:inherit;background:transparent;position:static;border:none;padding:0}.sb-wrapper .sb-button::before .sb-wrapper .sb-button[data-v-64cd80ec]{cursor:pointer}.sb-wrapper .sb-button[data-v-64cd80ec]::before{content:"";display:block;position:absolute;top:0;left:0;width:100%;height:100%}.sb-wrapper .sb-button[data-v-64cd80ec]:focus{outline:1px solid}.m-end-2[data-v-64cd80ec]{margin-inline-end:10px}.preview-form .section[data-v-64cd80ec]{background-color:#fff;padding:18px 0;border-bottom:1px solid #f2f4f5;margin-top:18px}.preview-form .section[data-v-64cd80ec]:last-child{border:none;padding-bottom:0}.preview-form .section.address .container[data-v-64cd80ec]{display:flex;align-items:flex-start}.preview-form .section.address .container .svg-icon[data-v-64cd80ec]{margin:2px 16px 0 16px}.preview-form .section .images[data-v-64cd80ec]{width:100%;height:100%;display:flex;overflow-y:hidden;overflow-x:scroll;padding:8px 0}.preview-form .section .images .image[data-v-64cd80ec]{margin-right:12px}.preview-form .section .images .image[data-v-64cd80ec]:last-child{margin:0}.preview-form .section .images .image img[data-v-64cd80ec]{border-radius:12px;object-fit:cover}.preview-form .section .number-counter[data-v-64cd80ec]{display:flex;justify-content:space-between;align-items:center;padding:16px 0}.preview-form .section .number-counter[data-v-64cd80ec]:last-child{border:none}.preview-form .section .number-counter p[data-v-64cd80ec]{margin:0;font-weight:600;font-size:16px}.preview-form .section .number-counter .number[data-v-64cd80ec]{display:flex;justify-content:center;align-items:center;width:40px;height:40px;border:1px solid #e3e5e5;border-radius:50%}.preview-form .section .number-counter .number.area[data-v-64cd80ec]{width:fit-content !important;height:60px !important}.preview-form .section .chip[data-v-64cd80ec]{display:inline-block;padding:8px 12px;background-color:#e6f2ff;color:#0078ff;font-weight:bold;border-radius:32px;margin:0px 12px 12px 0}.preview-form .section .chip[data-v-64cd80ec]:last-child{margin:0}@media screen and (max-width: 560px){.mobile-scroll[data-v-64cd80ec]{justify-content:flex-start;overflow-x:scroll}}',""]),t.exports=o},1656:function(t,e,r){"use strict";r.r(e);r(14),r(11),r(17),r(18);var o=r(52),n=r(51),c=r(44),l=r(3),d=(r(99),r(35),r(10),r(12),r(15),r(37),r(110),{name:"AddPropertyPreviewForm",props:{propertyData:{type:Object,required:!0},currentProperty:{type:null|Object,required:!0}},computed:{propertyTitle:function(){var t,e,r,o,n,c,l,d,v,m=this,f=(null===(t=this.propertyData)||void 0===t||null===(e=t.propertyType)||void 0===e||null===(r=e.find((function(t){var e,r;return t.prop_type_id===(null===(e=m.currentProperty)||void 0===e||null===(r=e.form2)||void 0===r?void 0:r.propertyType[0])})))||void 0===r?void 0:r.prop_type_name)||"",h=(null===(o=this.currentProperty)||void 0===o||null===(n=o.form1)||void 0===n||null===(c=n.city)||void 0===c?void 0:c.location_name)||"",y=(null===(l=this.currentProperty)||void 0===l||null===(d=l.form1)||void 0===d||null===(v=d.district)||void 0===v?void 0:v.location_name)||"";return f&&"".concat(f," in ").concat(y,", ").concat(h)},form1:function(){var t;if(null!==(t=this.currentProperty)&&void 0!==t&&t.form1){var e=this.currentProperty.form1;return{city:e.city,district:e.district,neighborhood:e.neighborhood}}return null},form2:function(){var t;if(null!==(t=this.currentProperty)&&void 0!==t&&t.form2){var e,r,o,n,c=this.currentProperty.form2,l=c.bathrooms,d=c.bedTypes,v=c.bedrooms,m=c.furnishType,f=c.propertyType,area=c.area;return{bathrooms:l,bedTypes:d,bedrooms:v,furnishTypes:null===(e=this.propertyData)||void 0===e||null===(r=e.furnishType)||void 0===r?void 0:r.filter((function(t){return m.some((function(e){return t.id===e}))})),propertyTypes:null===(o=this.propertyData)||void 0===o||null===(n=o.propertyType)||void 0===n?void 0:n.filter((function(t){return f.some((function(e){return t.prop_type_id===e}))})),area:area}}return null},form3:function(){var t;if(null!==(t=this.currentProperty)&&void 0!==t&&t.form3){var e,r,o,n,c,l,d,v,m,f=this.currentProperty.form3,h=f.bathroomAmenities,y=f.kitchenAmenities,_=f.propertyAmenities;return{Bathroom:(null===(e=this.propertyData)||void 0===e||null===(r=e.amenities)||void 0===r||null===(o=r.Bathroom)||void 0===o?void 0:o.filter((function(t){return null==h?void 0:h.some((function(e){return t.amenity_id===e}))})))||[],Kitchen:(null===(n=this.propertyData)||void 0===n||null===(c=n.amenities)||void 0===c||null===(l=c.Kitchen)||void 0===l?void 0:l.filter((function(t){return null==y?void 0:y.some((function(e){return t.amenity_id===e}))})))||[],Property:(null===(d=this.propertyData)||void 0===d||null===(v=d.amenities)||void 0===v||null===(m=v.Property)||void 0===m?void 0:m.filter((function(t){return null==_?void 0:_.some((function(e){return t.amenity_id===e}))})))||[]}}return null},form4:function(){var t;if(null!==(t=this.currentProperty)&&void 0!==t&&t.form4){var e=this.currentProperty.form4;return{daily_price:e.daily_price,monthly_price:e.monthly_price,propertyDescription:e.propertyDescription,propertyName:e.propertyName}}return null},form5:function(){return this.$store.state.PropertyModule.propertyImages||null}}}),v=(r(1546),r(25)),m=Object(v.a)(d,(function(){var t=this,e=t._self._c;return e("b-overlay",{attrs:{show:!t.propertyTitle,rounded:"sm",opacity:1}},[e("div",{staticClass:"preview-form"},[e("div",{staticClass:"form-container"},[e("h2",{staticClass:"form-heading"},[t._v("\n        "+t._s(t.propertyTitle)+"\n      ")]),t._v(" "),e("div",{staticClass:"address section"},[e("div",{staticClass:"container"},[e("div",{staticClass:"svg-icon"},[e("svg-icon",{attrs:{fill:"#262D3D",name:"dollar",height:"24",width:"24"}})],1),t._v(" "),e("div",{staticClass:"text"},[e("p",{staticClass:"font-size-semi-large font-weight-bold mb-0"},[t._v("\n              "+t._s(t.$t("property.propertyPrice"))+"\n            ")]),t._v(" "),t.form4&&t.form4.daily_price?e("p",{staticClass:"my-2"},[e("span",{staticClass:"font-weight-bold font-size-semi-large"},[t._v("\n                "+t._s(t.form4.daily_price)+"\n              ")]),t._v("\n              /"+t._s(t.$t("form.shortTerm"))+"\n            ")]):t._e(),t._v(" "),t.form4&&t.form4.monthly_price?e("p",[e("span",{staticClass:"font-weight-bold font-size-semi-large"},[t._v("\n                "+t._s(t.form4.monthly_price)+"\n              ")]),t._v("\n              /"+t._s(t.$t("form.longTerm"))+"\n            ")]):t._e()])])]),t._v(" "),e("div",{staticClass:"address section"},[e("div",{staticClass:"container"},[e("div",{staticClass:"svg-icon"},[e("svg-icon",{attrs:{fill:"#262D3D",name:"MapPin",height:"24",width:"24"}})],1),t._v(" "),e("div",{staticClass:"text"},[e("p",{staticClass:"font-size-semi-large font-weight-bold mb-0"},[t._v("\n              "+t._s(t.$t("form.PropertyAddress"))+"\n            ")]),t._v(" "),e("p",[e("span",{staticClass:"font-weight-bold"},[t._v("\n                "+t._s(t.form1?t.form1.city.location_name:"")+"\n              ")]),t._v("\n\n              "+t._s(t.form1&&t.form1.district?t.form1.district.location_name:"")+"\n              "+t._s(t.form1&&t.form1.neighborhood?t.form1.neighborhood.location_name:"")+"\n            ")])])])]),t._v(" "),e("div",{staticClass:"section"},[e("div",{staticClass:"container"},[e("div",{staticClass:"text"},[e("p",{staticClass:"font-size-semi-large font-weight-bold mb-2"},[t._v("\n              "+t._s(t.$t("form.propertyDescription"))+"\n            ")]),t._v(" "),e("span",{staticClass:"light-gray font-weight-bold"},[t._v("\n              "+t._s(t.form4?t.form4.propertyDescription:"")+"\n            ")])])])]),t._v(" "),t.form5?e("div",{staticClass:"section"},[e("div",{staticClass:"container"},[e("div",{staticClass:"text"},[e("p",{staticClass:"font-size-semi-large font-weight-bold mb-2"},[t._v("\n              "+t._s(t.$t("form.propertyPhotos"))+"\n            ")]),t._v(" "),e("div",{staticClass:"images mobile-scroll"},t._l(t.form5,(function(image,t){return e("div",{key:t,staticClass:"image"},[e("img",{attrs:{src:image,width:"120",height:"100"}})])})),0)])])]):t._e(),t._v(" "),t.form2?e("div",{staticClass:"section"},[e("div",{staticClass:"container"},[e("p",{staticClass:"font-size-semi-large font-weight-bold"},[t._v("\n            "+t._s(t.$t("property.furnishing_status"))+"\n          ")]),t._v(" "),t._l(t.form2.furnishTypes,(function(r,o){return e("span",{key:o,staticClass:"chip"},[t._v("\n            "+t._s(r.text)+"\n          ")])}))],2)]):t._e(),t._v(" "),t.form2?e("div",{staticClass:"section"},[e("div",{staticClass:"container"},[e("p",{staticClass:"font-size-semi-large font-weight-bold"},[t._v("\n            "+t._s(t.$t("property.property_types"))+"\n          ")]),t._v(" "),t._l(t.form2.propertyTypes,(function(r,o){return e("span",{key:o,staticClass:"chip"},[t._v("\n            "+t._s(r.prop_type_name)+"\n          ")])}))],2)]):t._e(),t._v(" "),t.form2?e("div",{staticClass:"section"},[e("div",{staticClass:"container"},[e("div",{staticClass:"text"},[e("p",{staticClass:"font-size-semi-large font-weight-bold mb-0"},[t._v("\n              "+t._s(t.$t("form.noOfRooms"))+"\n            ")]),t._v(" "),e("div",{staticClass:"number-counter"},[e("p",[t._v("\n                "+t._s(t.$t("form.bedrooms"))+"\n              ")]),t._v(" "),e("div",{staticClass:"number"},[e("span",[t._v(t._s(t.form2.bedrooms))])])]),t._v(" "),e("div",{staticClass:"number-counter"},[e("p",[t._v("\n                "+t._s(t.$t("property.bathrooms"))+"\n              ")]),t._v(" "),e("div",{staticClass:"number"},[t._v("\n                "+t._s(t.form2.bathrooms)+"\n              ")])])])])]):t._e(),t._v(" "),t.form2?e("div",{staticClass:"section"},[e("div",{staticClass:"container"},[e("div",{staticClass:"text"},[e("p",{staticClass:"font-size-semi-large font-weight-bold mb-0"},[t._v("\n              "+t._s(t.$t("property.area"))+"\n            ")]),t._v(" "),e("div",{staticClass:"number-counter"},[e("p",[t._v("\n                "+t._s(t.$t("property.area"))+"\n              ")]),t._v(" "),e("div",{staticClass:"number area"},[e("span",[t._v(t._s("".concat(t.form2.area,"m"))),e("sup",[t._v("2")])])])])])])]):t._e(),t._v(" "),t.form2&&t.propertyData&&t.propertyData.bedTypes?e("div",{staticClass:"section"},[e("div",{staticClass:"container"},[e("div",{staticClass:"text"},[e("p",{staticClass:"font-size-semi-large font-weight-bold mb-0"},[t._v("\n              "+t._s(t.$t("property.beds_availability"))+"\n            ")]),t._v(" "),t._l(t.propertyData.bedTypes,(function(r,o){return e("div",{key:o,staticClass:"number-counter"},[e("p",[t._v("\n                "+t._s(r.name)+"\n              ")]),t._v(" "),e("div",{staticClass:"number"},[e("span",[t._v(t._s(t.form2.bedTypes[o].count))])])])}))],2)])]):t._e(),t._v(" "),t.form3?t._l(Object.keys(t.form3),(function(r,o){return e("div",{key:o,staticClass:"section"},[e("div",{staticClass:"container"},[e("p",{staticClass:"font-size-semi-large font-weight-bold"},[t._v("\n              "+t._s(t.$t("form.".concat(r.toLowerCase(),"Amenities")))+"\n            ")]),t._v(" "),t._l(t.form3[r],(function(r){return e("span",{key:r.amenity_id,staticClass:"chip"},[t._v("\n              "+t._s(r.amenity_name)+"\n            ")])}))],2)])})):t._e()],2)])])}),[],!1,null,"64cd80ec",null).exports,f=r(362),h=r(1036),y=r(41);function _(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function w(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?_(Object(source),!0).forEach((function(e){Object(l.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):_(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var x=Object(y.a)("PropertyModule").mapActions,C={name:"AddPropertyPreviewPage",props:{propertyData:{type:Object,required:!0}},components:{PreviewForm:m,ProgressCircle:h.a},data:function(){return{currentProperty:null,loading:!1}},head:function(){return{title:"".concat("ltr"===this.dir?"Add Property | Step 6":"إضافة عقار | الخطوة 6"," ").concat("production"!==this.appEnv?"| Staging":""),meta:[{hid:"description",name:"description",content:"ltr"===this.dir?"Add Property | Property Preview":"إضافة عقار | نظره عمه على العقار"}]}},computed:{images:function(){return this.$store.state.PropertyModule.propertyImages||[]},dir:function(){return this.$store.getters["CoreModule/isRTL"]?"rtl":"ltr"},appEnv:function(){return this.$config.APP_ENV}},methods:w(w({},x(["addProperty"])),{},{submitProperty:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,t.addProperty(t.convertDataForPOST());case 3:t.loading=!1;case 4:case"end":return e.stop()}}),e)})))()},goBack:function(){this.$router.push(this.localePath("/properties/add/6"))},appendArrayValue:function(t,e,r){0!==r.length?r.forEach((function(r,o){"object"!==Object(n.a)(r)||r instanceof File?t.append("".concat(e,"[").concat(o,"]"),r):Object.keys(r).forEach((function(n){t.append("".concat(e,"[").concat(o,"][").concat(n,"]"),r[n])}))})):t.append("".concat(e,"[]"),"")},convertDataForPOST:function(){var t,e,r=this,n=this.currentProperty,c=n.form1,l=n.form2,d=n.form3,v=n.form4,m=(n.form6,0);v.monthly_price&&v.daily_price?m=2:v.monthly_price&&(m=1);var h={location_id:null!==c.neighborhood?c.neighborhood.location_id:null!==c.district?c.district.location_id:c.city.location_id,city:c.city.location_name,district:(null===(t=c.district)||void 0===t?void 0:t.location_name)||null,neighborhood:(null===(e=c.neighborhood)||void 0===e?void 0:e.location_name)||null,bathrooms:l.bathrooms,bedrooms:l.bedrooms,furnishType:l.furnishType[0],propertyType:l.propertyType[0],bed_types:l.bedTypes,amenities:[].concat(Object(o.a)(d.bathroomAmenities),Object(o.a)(d.kitchenAmenities),Object(o.a)(d.propertyAmenities)),name_en:v.propertyName,name_ar:"name_ar",description_en:v.propertyDescription,description_ar:"description_ar",monthly_price:v.monthly_price||0,daily_price:v.daily_price||0,term:m,lng:"29.951604",lat:"26.671847",default_image:"0.png",google_location_en:"",google_location_ar:"",google_location_frnk:"",google_location:JSON.stringify({})},y=new FormData;for(var i in this.images){var _=Object(f.b)(this.images[i]);y.append("images["+i+"]",_)}return Object.keys(h).forEach((function(t){Array.isArray(h[t])?r.appendArrayValue(y,"".concat(t),h[t]):y.append(t,h[t])})),y}}),mounted:function(){window.scrollTo({top:0,left:0,behavior:"smooth"}),this.currentProperty=localStorage.getItem("property")&&JSON.parse(localStorage.getItem("property")),this.currentProperty||this.$router.push(this.localePath("/properties/add/1"))}},P=Object(v.a)(C,(function(){var t=this,e=t._self._c;return e("div",[e("ProgressCircle",{attrs:{"current-step":7,"total-steps":7}}),t._v(" "),e("PreviewForm",{attrs:{propertyData:t.propertyData,currentProperty:t.currentProperty}}),t._v(" "),e("div",{staticClass:"page-actions"},[e("b-button",{on:{click:t.goBack}},[t._v(t._s(t.$t("common.back")))]),t._v(" "),e("b-button",{attrs:{variant:"primary",disabled:t.loading},on:{click:t.submitProperty}},[t._v("\n      "+t._s(t.loading?"Loading...":t.$t("common.submit"))+"\n    ")])],1)],1)}),[],!1,null,null,null);e.default=P.exports}}]);